Потребителско меню
==================

Този модул изисква модул USER. 

На мястото на елемента:

<!--$$_USERMENU_$$-->

се показва меню, с действия, които, влязъл в сайта потребител има право да извършва. Този елемент се вмъква в най-долната част на html кода, преди </body>, а разположението му върху страниците се управлява с css. В някои случаи меню може и да не се показва, но на страницата ще има други елементи за извършване на разрешените действия.

Модулът създава и използва таблица $tn_prefix.'permissions', която съхранява информация за правата на влезлият в сайта потребител.

Структура на таблица $tn_prefix.'permissions'
--------------------------------------------
ID - номер на правото, primary, auto increment.
user_id - номер на потребител.
type - вид на правото. Това поле е от тип enum.
object - в зависимост от вида на правото това може да е: номер на страница, номер на меню, име на модул и др.
yes_no - 1 или 0 в зависимост от това дали се дава или се отнема съответното право.

Видовете права са:
all - всички права, дават се на администратори на сайта
page - право да редактира надписите от страницата;
menu - право да създава, изтрива и редактира страници, ползващи едно и също меню (подраздел от сайта);
records - право да променя само определени записи от някоя таблица на базата данни;
module - право да използва модул, достъпен само за определени потребители.

Приоритетите на правата са следните

1. При наличие на право създаване/изтриване на страници в даден раздел, това право се отнася и за подразделите в същия раздел и дава право за редактиране на надписи и за управление на модули, освен когато тези права изрично не са отнети.

2. Изрично дадено право за редактиране на надписи на определени страници дава и право за управление на модули, освен ако второто не е изрично отнето.

3. Изрично дадено право за управление на модул се отнася за всички страници освен за страниците, на които правото за редактиране на надписи не е изрично отнето.

4. Правото за променяне на избрани записи от таблица на базата данни се използва в отделни модули, които изискват такава функционалност.

